#!/usr/bin/env python

## NOTE! first, source activate evcouplings_env to get python3, AND
## module load seq/breseq/0.30.2

import subprocess
import os

## run breseq 0.30.2 on all samples.



data_fh = open("../doc/Populations-and-Clones.csv")
for l in data_fh:
    l = l.strip()
    print(l)
    ## skip header
    #ldata = l.split(',')
    #sra_id = ldata[2]
    #breseq_args = ['bsub', '-q', 'short', '-W', '6:0', 'breseq', '-r', 'gonorrhoeae-FA1090.gb.txt', '-o', './breseq-validation/'+sra_id, './validation-data/'+sra_id+'_pass_1.fastq.gz', './validation-data/'+sra_id+'_pass_2.fastq.gz']

    #output_done = os.path.join('./breseq-validation',sra_id,'output/output.done')
    #if not os.path.exists(output_done):
        #print(' '.join(breseq_args))
        #subprocess.run(breseq_args)
